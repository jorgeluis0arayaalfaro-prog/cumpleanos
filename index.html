<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cumplea√±os del Equipo CCF</title>

  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <style>
    body {
      background: linear-gradient(to top, #c1e1ff 0%, #f0f9ff 100%);
      font-family: "Segoe UI", sans-serif;
      overflow-x: hidden;
    }

    h1, h2 {
      color: #0b5ed7;
      font-weight: bold;
    }

    h1 {
      text-align: center;
      margin-bottom: 2rem;
    }

    .birthday-card {
      border: none;
      border-radius: 1rem;
      cursor: pointer;
      transition: all 0.25s ease;
      /* CAMBIO AQU√ç: Color de fondo m√°s oscuro para resaltar las auras */
      background: #eaeff2; 
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }

    .birthday-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
      /* Opcional: al pasar el mouse se puede aclarar un poco */
      background: #f8f9fa;
    }

    .next-birthday-card {
      border: 2px solid #0b5ed7;
      animation: pulseAccent 2s infinite;
    }

    @keyframes pulseAccent {
      0% { box-shadow: 0 0 0 0 rgba(11, 94, 215, 0.7); }
      70% { box-shadow: 0 0 0 10px rgba(11, 94, 215, 0); }
      100% { box-shadow: 0 0 0 0 rgba(11, 94, 215, 0); }
    }

    .today-birthday .card-body {
      background-color: #d8f9e0;
      border-radius: 0 0 1rem 1rem;
    }

    .modal-header {
      background-color: #0b5ed7;
      color: white;
      border-top-left-radius: 1rem;
      border-top-right-radius: 1rem;
    }

    .modal-content {
      border-radius: 1rem;
      /* Aseguramos que el modal siga siendo blanco por dentro para contraste */
      background-color: white; 
    }

    .btn-close-white {
      filter: invert(1);
    }

    /* -------------------------------------
       ANIMACI√ìN DE AURA PARA LOS ICONOS
       ------------------------------------- */
    .aura-icon {
      font-size: 1.5rem;
      margin-right: 5px;
      vertical-align: middle;
      display: inline-block;
      animation: pulseAura 2s infinite ease-in-out;
    }

    @keyframes pulseAura {
      0%, 100% {
        transform: scale(1);
        /* El brillo ser√° m√°s visible sobre el nuevo fondo gris√°ceo */
        filter: drop-shadow(0 0 2px var(--aura-color, gold));
      }
      50% {
        transform: scale(1.15);
        filter: drop-shadow(0 0 8px var(--aura-color, gold));
      }
    }

    /* Animaci√≥n especial para Daniel (avi√≥n) */
    .plane-container {
      position: relative;
      display: inline-block;
      width: 100%;
    }
    .plane-icon {
      position: absolute;
      top: -30px;
      left: 0;
      font-size: 1.5rem;
      animation: flyPlane 4s infinite linear;
      z-index: 10;
      pointer-events: none;
    }
    @keyframes flyPlane {
      0% { transform: translateX(-40px) translateY(15px) scale(0.8); opacity: 0; }
      15% { opacity: 1; }
      85% { opacity: 1; }
      100% { transform: translateX(180px) translateY(-15px) scale(1.2); opacity: 0; }
    }

    /* Animaci√≥n especial para Arturo (pastel) */
    .arturo-cake {
      font-size: 4rem;
      display: inline-block;
      animation: floatAnim 2s infinite ease-in-out;
      position: relative;
    }
    .arturo-cake::after {
      content: '‚ú®üéâ';
      position: absolute;
      top: -15px;
      right: -30px;
      font-size: 1.5rem;
      animation: sparkle 1.5s infinite alternate ease-in-out;
    }
    @keyframes floatAnim {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }
    @keyframes sparkle {
      0% { opacity: 0.3; transform: scale(0.8) rotate(-10deg); }
      100% { opacity: 1; transform: scale(1.3) rotate(10deg); }
    }
  </style>
</head>
<body>
  <div class="modal fade" id="infoModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content text-center border-0 shadow-lg">
        <div class="modal-header">
          <h5 class="modal-title w-100 fw-bold" id="modalTitle"></h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body p-4">
          <div style="font-size: 4rem;" id="modalEmojiContainer"></div>
          <div id="modalDetails" class="text-start mt-3"></div>
          <button type="button" class="btn btn-primary mt-4" data-bs-dismiss="modal">Cerrar üéà</button>
        </div>
      </div>
    </div>
  </div>

  <div class="container py-5">
    <h1>ü•≥ Cumplea√±os del Equipo CCF ü•≥</h1>

    <h2 class="mb-3">üéÅ Pr√≥ximo Cumplea√±os</h2>
    <div id="next-birthday" class="row mb-5 justify-content-center"></div>

    <h2 class="mb-3">üíñ Cumplea√±os de Este Mes</h2>
    <div id="this-month" class="row g-4 mb-5"></div>

    <h2 class="mb-3">üóìÔ∏è Todos los Cumplea√±os</h2>
    <div id="all-birthdays" class="row g-4"></div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <script>
    const birthdayData = [
            {"name": "Ricardo", "dob": "1979-02-09", "theme": "Star wars o el mar", "activity": "RT D2", "color": "Azul o verde", "song": "Tema de star wars", "photo": ""},
            {"name": "Norma Isabel Corona Vizcaino", "dob": "1982-08-19", "theme": "Fiesta, globos, banda, mariachi, folklor", "activity": "Bailar zapateado, cumbia y banda", "color": "Cafe, beige y rosa", "song": "Ma√±anitas alegres o con banda", "photo": ""},
            {"name": "Oscar Eliecer Lucio Palacio", "dob": "1987-01-01", "theme": "Calabozos y Dragones, libros de terror y fantas√≠a. Magic the gathering", "activity": "Leer, jugar Rol o magic", "color": "negro", "song": "Happy birthday de the Beatles", "photo": ""},
            {"name": "Nicol√°s Gilberto Rojas Prado", "dob": "1989-02-04", "theme": "Star War - Vikingos", "activity": "Ramstein", "color": "Negro, tinto, tonos grises", "song": "las ma√±anitas estilo pink floyd", "photo": ""},
            {"name": "Lucia Guadalupe Hern√°ndez Fierro", "dob": "1993-12-09", "theme": "Harry Potter, aviones, caballos", "activity": "Selena gomez, Taylor Swift", "color": "Rojo y rosa", "song": "La canci√≥n que sea", "photo": ""},
            {"name": "Karla Fernanda Camacho Camacho", "dob": "1994-05-21", "theme": "naturaleza", "activity": "Vincent Vangoh -arte", "color": "verde", "song": "jazz, salsa", "photo": ""},
            {"name": "Briceyda Gonz√°lez", "dob": "1994-11-09", "theme": "Libros, mandalas, caf√©", "activity": "Matisse, Carin Le√≥n, Leer", "color": "Negro, morado y lila", "song": "Regget√≥n viejito", "photo": ""},
            {"name": "Jessica De Anda", "dob": "1995-03-15", "theme": "Tulipanes, mar, perritos y gatitos", "activity": "Hello kitty, hacer ejercicio", "color": "Aqua", "song": "reggaeton o movida", "photo": ""},
            {"name": "Daniel Amante", "dob": "1996-10-08", "theme": "Los perros, el soccer, la formula 1", "activity": "Adele o CR7", "color": "Rojo", "song": "La que se les ocurra", "photo": ""},
            {"name": "Valeria", "dob": "1997-03-05", "theme": "Harry potter", "activity": "F1, running", "color": "Negro y rosa", "song": "Nothing's gonna stop us now", "photo": ""},
            {"name": "Liz", "dob": "1999-01-22", "theme": "Amante de los atardeceres, bosque", "activity": "Carla Morrison, Mon Laferte", "color": "Colores pastel, rosa, azul", "song": "Jos√© Luis Rodr√≠guez - Agradecido", "photo": ""},
            {"name": "Erika Guadalupe Cedano Navarro", "dob": "1999-07-08", "theme": "cute, flores, perritos", "activity": "spiderman, coldplay", "color": "colores pastel", "song": "alguna melod√≠a chida", "photo": ""},
            {"name": "Priscila Jacqueline P√°ez Martinez", "dob": "1999-11-23", "theme": "flores, brillos", "activity": "stitch, one direction", "color": "Rojo y azul", "song": "rich girl", "photo": ""},
            {"name": "Pamela", "dob": "2025-07-08", "theme": "minimalismo", "activity": "rugrats, playa, perros", "color": "Morado", "song": "cualquier canci√≥n con vibe de playa", "photo": ""},
            {"name": "Arturo Joel Mart√≠nez Ponce", "dob": "1983-04-27", "theme": "general, de fiesta", "activity": "baile folcl√≥rico", "color": "azul", "song": "las ma√±anitas", "photo": ""},
            {"name": "Luis Enrique Gastelum Castro", "dob": "1996-08-15", "theme": "Super H√©roes, Futbol", "activity": "Marvel, Ricardo Arjona", "color": "Black, blanco, gris", "song": "devu√©lveme a mi chica", "photo": ""},
            {"name": "Getzemani David Albavera Soto", "dob": "1987-04-29", "theme": "naturaleza", "activity": "senderismo", "color": "negro", "song": "adventure of a lifetime", "photo": ""},
            {"name": "Jorge Luis Araya Alfaro", "dob": "1994-02-09", "theme": "Mitolog√≠a, Magia, Harry Potter", "activity": "Percy Jackson", "color": "Verde, azul y rojo", "song": "Make you feel My Love", "photo": ""},
            {"name": "Rebeca Sarai Palacios Torres", "dob": "1993-08-19", "theme": "Maquillaje", "activity": "", "color": "Azul marino", "song": "", "photo": ""},
            {"name": "Oscar Mart√≠n Aguilar", "dob": "1990-01-30", "theme": "", "activity": "", "color": "", "song": "", "photo": ""},
            {"name": "Karizma Mac√≠as Contreras", "dob": "2025-08-21", "theme": "", "activity": "", "color": "", "song": "", "photo": ""},
            {"name": "Arlette Alejandra Cruzado Rodr√≠guez", "dob": "2025-10-16", "theme": "", "activity": "", "color": "", "song": "", "photo": ""},
            {"name": "Vladimir Z√°rate Nava", "dob": "2025-12-28", "theme": "", "activity": "", "color": "", "song": "", "photo": ""}, 
            {"name": "Jos√© Antonio Benavides Paredes", "dob": "1995-11-05", "theme": "Animal crossing", "activity": "Tocar m√∫sica", "color": "Azul", "song": "Tota-pop de Totakeke", "photo": ""}
    ];

    // Funci√≥n auxiliar para obtener un color CSS v√°lido de la descripci√≥n
    function getColor(colorDesc) {
      if (!colorDesc) return 'gold'; // Color por defecto
      const desc = colorDesc.toLowerCase();
      if (desc.includes('azul')) return '#007bff';
      if (desc.includes('verde')) return '#28a745';
      if (desc.includes('rosa')) return '#e83e8c';
      if (desc.includes('rojo') || desc.includes('tinto')) return '#dc3545';
      if (desc.includes('morado') || desc.includes('lila')) return '#6f42c1';
      if (desc.includes('negro') || desc.includes('black')) return '#343a40';
      if (desc.includes('aqua')) return '#0dcaf0';
      if (desc.includes('cafe') || desc.includes('beige')) return '#8B4513';
      if (desc.includes('gris')) return '#6c757d';
      if (desc.includes('pastel')) return '#ffb6c1';
      return 'gold'; // Color por defecto si no coincide
    }

    // Configuraci√≥n de iconos espec√≠ficos
    const iconConfig = {
      "Ricardo": "üåä", // el mar
      "Norma Isabel Corona Vizcaino": "üé∫", // mariachi
      "Oscar Eliecer Lucio Palacio": "üßô‚Äç‚ôÇÔ∏è", // fantas√≠a
      "Nicol√°s Gilberto Rojas Prado": "ü™ì", // Vikingos
      "Lucia Guadalupe Hern√°ndez Fierro": "üêé", // caballos
      "Karla Fernanda Camacho Camacho": "üåø", // Naturaleza
      "Briceyda Gonz√°lez": "üî™", // asesinos seriales
      "Jessica De Anda": "üêæ", // perritos y gatitos
      "Valeria": "‚ö°", // Harry Potter
      "Liz": "üåÑ", // Atardeceres, bosque
      "Erika Guadalupe Cedano Navarro": "üå∏", // flores
      "Priscila Jacqueline P√°ez Martinez": "‚ú®", // brillos
      "Pamela": "üèñÔ∏è", // playa
      "Arturo Joel Mart√≠nez Ponce": "üíÉ", // Baile folcl√≥rico
      "Luis Enrique Gastelum Castro": "ü¶∏‚Äç‚ôÇÔ∏è", // Superh√©roes
      "Getzemani David Albavera Soto": "üå≤", // Naturaleza
      "Jorge Luis Araya Alfaro": "üî±", // Percy Jackson (Tridente)
      "Rebeca Sarai Palacios Torres": "üíÑ", // Maquillaje
      "Jos√© Antonio Benavides Paredes": "üé∏" // Tocar m√∫sica
    };

    document.addEventListener("DOMContentLoaded", () => {
      try {
        const today = new Date();
        const currentMonth = today.getMonth();
        const currentDate = today.getDate();

        const processed = birthdayData.map(p => {
          const dob = new Date(p.dob + "T00:00:00");
          return { ...p, dob, month: dob.getMonth(), day: dob.getDate(), isToday: dob.getMonth() === currentMonth && dob.getDate() === currentDate };
        }).sort((a,b) => a.month - b.month || a.day - b.day);

        const todayBirthdays = processed.filter(p => p.isToday);
        let next = processed.find(p => p.month > currentMonth || (p.month === currentMonth && p.day >= currentDate));
        if (!next) next = processed[0];

        document.getElementById("next-birthday").innerHTML = createCard(next, true);
        const monthBirthdays = processed.filter(p => p.month === currentMonth);
        document.getElementById("this-month").innerHTML = monthBirthdays.length
          ? monthBirthdays.map(p => createCard(p)).join("")
          : "<p class='text-muted'>No hay cumplea√±os este mes.</p>";
        document.getElementById("all-birthdays").innerHTML = processed.map(p => createCard(p)).join("");

        document.querySelectorAll(".birthday-card").forEach(card => {
          card.addEventListener("click", () => {
            const person = processed.find(p => p.name === card.dataset.name);
            showInfo(person);
          });
        });

        setTimeout(() => {
          if (todayBirthdays.length > 0) {
            showCelebration(todayBirthdays[0]);
          } else {
            showNext(next);
          }
        }, 1000);
      } catch (error) {
        console.error("Error al cargar las tarjetas:", error);
      }
    });

    function createCard(p, highlight = false) {
      const date = p.dob.toLocaleDateString("es-ES", { day: "numeric", month: "long" });
      const cleanName = p.name.trim();
      
      // Icono principal de la tarjeta (pastel grande)
      let cardIcon = `<span style="font-size:4rem;">üéÇ</span>`;
      
      // Excepci√≥n: Arturo (Pastel especial grande)
      if (cleanName === "Arturo Joel Mart√≠nez Ponce") {
         cardIcon = `<div class="arturo-cake">üç∞</div>`;
      }

      let nameHTML = `<h5>${p.name}</h5>`;

      // Excepci√≥n: Daniel (Avi√≥n)
      if (cleanName === "Daniel Amante") {
         nameHTML = `
           <div class="plane-container">
             <div class="plane-icon">‚úàÔ∏è</div>
             <h5>${p.name}</h5>
           </div>`;
      } else {
        // Para los dem√°s, buscamos su icono y color
        const icon = iconConfig[cleanName] || "üéâ"; // Icono por defecto
        const auraColor = getColor(p.color);
        
        // Creamos el HTML del nombre con el icono y su aura de color
        nameHTML = `
           <h5>
             <span class="aura-icon" style="--aura-color: ${auraColor};">${icon}</span>
             <span style="vertical-align: middle;">${p.name}</span>
           </h5>`;
      }

      return `
        <div class="col-md-4 col-lg-3">
          <div class="card birthday-card h-100 ${highlight ? "next-birthday-card" : ""} ${p.isToday ? "today-birthday" : ""}" data-name="${p.name}">
            <div class="text-center pt-4 pb-2">${cardIcon}</div>
            <div class="card-body text-center d-flex flex-column justify-content-center">
              ${nameHTML}
              <p class="text-muted mb-0">${date}</p>
              ${p.isToday ? '<div class="mt-2"><span class="badge bg-success">¬°ES HOY!</span></div>' : ""}
            </div>
          </div>
        </div>`;
    }

    function showInfo(person) {
      const cleanName = person.name.trim();
      let icon = iconConfig[cleanName] || "üéâ";
      let auraColor = getColor(person.color);

      // Excepciones para el modal
      if (cleanName === "Arturo Joel Mart√≠nez Ponce") icon = "üç∞";
      if (cleanName === "Daniel Amante") icon = "‚úàÔ∏è";

      document.getElementById("modalTitle").textContent = person.name;
      // El icono del modal tambi√©n tendr√° el aura
      document.getElementById("modalEmojiContainer").innerHTML = `
        <span class="aura-icon" style="font-size: 4rem; --aura-color: ${auraColor};">${icon}</span>
      `;
      
      document.getElementById("modalDetails").innerHTML = `
        <p><strong>üé® Color favorito:</strong> ${person.color || 'No especificado'}</p>
        <p><strong>‚≠ê Tema:</strong> ${person.theme || 'Sorpresa'}</p>
        <p><strong>‚ù§Ô∏è Le gusta:</strong> ${person.activity || 'Pasarla bien'}</p>
        <p><strong>üéµ Canci√≥n:</strong> ${person.song || 'Cualquiera para bailar'}</p>`;
      new bootstrap.Modal("#infoModal").show();
    }

    function showCelebration(person) {
      const cleanName = person.name.trim();
      let icon = iconConfig[cleanName] || "üéà";
      let auraColor = getColor(person.color);
      
      if (cleanName === "Arturo Joel Mart√≠nez Ponce") icon = "üç∞";
      if (cleanName === "Daniel Amante") icon = "‚úàÔ∏è";

      document.getElementById("modalTitle").textContent = `üéÇ ¬°Feliz cumplea√±os ${person.name}! üéâ`;
      document.getElementById("modalEmojiContainer").innerHTML = `
        <span class="aura-icon" style="font-size: 4rem; --aura-color: ${auraColor};">${icon}</span>
      `;

      document.getElementById("modalDetails").innerHTML = `
        <p><strong>üé® Color favorito:</strong> ${person.color || 'No especificado'}</p>
        <p><strong>‚≠ê Tema:</strong> ${person.theme || 'Sorpresa'}</p>
        <p><strong>‚ù§Ô∏è Le gusta:</strong> ${person.activity || 'Pasarla bien'}</p>
        <p><strong>üéµ Canci√≥n:</strong> ${person.song || 'Cualquiera para bailar'}</p>`;
      new bootstrap.Modal("#infoModal").show();

      const end = Date.now() + 2 * 1000;
      (function frame() {
        if (typeof confetti !== "undefined") {
          confetti({ particleCount: 5, spread: 100, origin: { x: Math.random(), y: Math.random() - 0.2 } });
          if (Date.now() < end) requestAnimationFrame(frame);
        }
      })();
    }

    function showNext(person) {
      const cleanName = person.name.trim();
      let icon = iconConfig[cleanName] || "üéâ";
      let auraColor = getColor(person.color);

      if (cleanName === "Arturo Joel Mart√≠nez Ponce") icon = "üç∞";
      if (cleanName === "Daniel Amante") icon = "‚úàÔ∏è";

      document.getElementById("modalTitle").textContent = "üéÅ Pr√≥ximo Cumplea√±os";
      document.getElementById("modalEmojiContainer").innerHTML = `
        <span class="aura-icon" style="font-size: 4rem; --aura-color: ${auraColor};">${icon}</span>
      `;

      document.getElementById("modalDetails").innerHTML = `
        <h4 class="fw-bold mb-2">${person.name}</h4>
        <p>Fecha: <strong>${person.dob.toLocaleDateString("es-ES", { day: "numeric", month: "long" })}</strong></p>
        <p><strong>üé® Color favorito:</strong> ${person.color || 'No especificado'}</p>
        <p><strong>‚≠ê Tema:</strong> ${person.theme || 'Sorpresa'}</p>
        <p><strong>‚ù§Ô∏è Le gusta:</strong> ${person.activity || 'Pasarla bien'}</p>
        <p><strong>üéµ Canci√≥n:</strong> ${person.song || 'Cualquiera para bailar'}</p>`;
      new bootstrap.Modal("#infoModal").show();
    }
  </script>
</body>
</html>
